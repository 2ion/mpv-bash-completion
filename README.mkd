_(The primary source is hosted on [Github](https://github.com/2ion/mpv-bash-completion), the downloads are on [Bitbucket](https://bitbucket.org/2ion/mpv-bash-completion/downloads))_

## mpv-bash-completion

A script for generating a Bash completion script for the popular [mpv
video player](https://github.com/mpv-player/mpv).
It features...

* Completion for all --options,
* Type-based completion for --option arguments for choices, flags,
  integers and floats,
* Completion for upper/lower bounds for integer- and float-type argument
  ranges where applicable,
* Regular file name completion.

It does so by parsing the output of
```
mpv --list-options
```
directly and should thus work against all recent versions of mpv.

Included is support for generating a Debian package.

### Dependencies

* mpv (must be in $PATH)
* grep
* GNU core utilities
* make

For generating the Debian package:

* checkinstall

For actually using the completion:

* Bash 4

This is a no-brainer for Linux users, but OSX users will need to upgrade
their ancient Bash 3 that is shipping with the OS!

### Generating the completion script

Running
```sh
make
```
will produce a shell script in the current working directory.
Source it in your .bashrc or similar like this:
```sh
source /bath/to/the/script
```
re-source your .bashrc:
```sh
source $HOME/.bashrc
```
and you should now have completion for the mpv command.

### Generating the Debian package

Run
```sh
make deb
```
and answer to any prompts accordingly. You will also be prompted for the
sudo password. The Debian package will get installed and also saved to
the current working directory. To remove it later, run
```sh
sudo dpkg -r mpv-bash-completion
```

### Out-of-Tree downloads

Scripts for certain mpv versions and corresponding Debian packages are
available on [Bitbucket](https://bitbucket.org/2ion/mpv-bash-completion/downloads).

Please note that mpv is adding, removing or changing the options of its
command line interface quite frequently. For any new version of mpv
you're running, I recommend you rebuild the completion script to ensure
that it's still accurate.

### License

```
gen.sh - mpv Bash completion script generator - This is a hack. Oh noes!
Copyright (C) 2014 Jens Oliver John <dev at 2ion dot de>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
```

